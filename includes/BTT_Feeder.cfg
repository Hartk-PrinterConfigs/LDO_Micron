[gcode_macro HUB_STATUS]
gcode:
  {action_call_remote_method("openfeeder_hub_status")}


[gcode_macro OPENFEEDER_STATUS]
gcode:
  {action_call_remote_method("openfeeder_status")}


[gcode_macro OPENFEEDER_MOVE]
description: Move an OpenFeeder lane a fixed number of steps
gcode:
  {% set FEEDER = params.FEEDER|default(0)|int %}
  {% set STEPS  = params.STEPS|default(2000)|int %}
  {% set DIR    = params.DIR|default(1)|int %}      # 1=fwd, 0=rev
  {% set RATE   = params.RATE_HZ|default(8000)|int %}

  {action_respond_info("OPENFEEDER_MOVE feeder=%d steps=%d dir=%d rate=%d" % (FEEDER, STEPS, DIR, RATE))}
  {action_call_remote_method("openfeeder_move", feeder=FEEDER, steps=STEPS, dir=DIR, rate_hz=RATE)}

